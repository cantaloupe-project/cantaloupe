<!DOCTYPE html>
<html>
<head>
    #if ($baseUri)
        <base href="$baseUri/">
    #end
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="static/styles/admin.css">

    <title>Cantaloupe Image Server</title>
</head>

<body id="cl-landing">

<input type="hidden" name="cl-admin-uri" value="$adminUri"/>

<div class="container-fluid">
    <div class="clearfix">
        <header>
            <img src="static/images/cantaloupe-320.png" alt="Cantaloupe icon"
                 width="154" height="82" style="float:left">
            <h1>Cantaloupe Image Server <small>$version</small></h1>
        </header>
    </div>

    <div class="row">
        <div class="col-sm-3 col-md-2">
            <ul class="nav nav-pills nav-stacked list-group">
                <li role="presentation" class="list-group-item active" id="cl-status-button">
                    <a href="#cl-status" aria-controls="cl-status"
                       role="tab" data-toggle="tab">Status</a>
                </li>
                <li role="presentation" class="list-group-item" id="cl-application-button">
                    <a href="#cl-application" aria-controls="cl-application"
                       role="tab" data-toggle="tab">Application</a>
                </li>
                <li role="presentation" class="list-group-item" id="cl-http-button">
                    <a href="#cl-http" aria-controls="cl-http"
                       role="tab" data-toggle="tab">HTTP</a>
                </li>
                <li role="presentation" class="list-group-item" id="cl-endpoints-button">
                    <a href="#cl-endpoints" aria-controls="cl-endpoints"
                       role="tab" data-toggle="tab">Endpoints</a>
                </li>
                <li role="presentation" class="list-group-item" id="cl-source-button">
                    <a href="#cl-source" aria-controls="cl-source"
                       role="tab" data-toggle="tab">Source</a>
                </li>
                <li role="presentation" class="list-group-item" id="cl-processors-button">
                    <a href="#cl-processors" aria-controls="cl-processors"
                       role="tab" data-toggle="tab">Processors</a>
                </li>
                <li role="presentation" class="list-group-item" id="cl-caches-button">
                    <a href="#cl-caches" aria-controls="cl-caches"
                       role="tab" data-toggle="tab">Caches</a>
                </li>
                <li role="presentation" class="list-group-item" id="cl-overlays-button">
                    <a href="#cl-overlays" aria-controls="cl-overlays"
                       role="tab" data-toggle="tab">Overlays</a>
                </li>
            </ul>
        </div>
        <div class="col-sm-9 col-md-10">
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="cl-status">
                    <div class="row">
                        <div class="col-sm-6">
                            <section id="cl-status-memory">
                                <h2>Memory</h2>
                                <table class="table table-striped">
                                    <tr>
                                        <td>Used Heap</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Available Heap</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Total Heap</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Max Heap</td>
                                        <td></td>
                                    </tr>
                                </table>

                                <div class="progress">
                                    <div class="progress-bar"
                                         aria-valuenow="0"
                                         aria-valuemin="0" aria-valuemax="100"
                                         style="width: 0%">
                                        <span class="sr-only"></span>
                                    </div>
                                </div>
                            </section>
                        </div>
                        <div class="col-sm-6">
                            <section id="cl-proxy-headers">
                                <h2>Proxy Headers</h2>
                                <table class="table table-striped">
                                    <tr>
                                        <td><var>X-Forwarded-Proto</var></td>
                                        <td><var>$xForwardedProtoHeader</var></td>
                                    </tr>
                                    <tr>
                                        <td><var>X-Forwarded-Host</var></td>
                                        <td><var>$xForwardedHostHeader</var></td>
                                    </tr>
                                    <tr>
                                        <td><var>X-Forwarded-Port</var></td>
                                        <td><var>$xForwardedPortHeader</var></td>
                                    </tr>
                                    <tr>
                                        <td><var>X-Forwarded-Path</var></td>
                                        <td><var>$xForwardedPathHeader</var></td>
                                    </tr>
                                    <tr>
                                        <td><var>X-Forwarded-For</var></td>
                                        <td><var>$xForwardedForHeader</var></td>
                                    </tr>
                                </table>
                            </section>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <section id="cl-status-internal-caches">
                                <h2>Internal Caches</h2>
                                <table class="table table-striped">
                                    <tr>
                                        <td>Info Cache Size</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Info Cache Max Size</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Delegate Method Invocation Cache Size</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td>Delegate Method Invocation Cache Max Size</td>
                                        <td></td>
                                    </tr>
                                </table>
                            </section>
                        </div>
                        <div class="col-sm-6">
                            <section id="cl-status-vm">
                                <h2>VM</h2>
                                <table class="table table-striped">
                                    <tr>
                                        <td>Vendor</td>
                                        <td>$vmVendor</td>
                                    </tr>
                                    <tr>
                                        <td>Name</td>
                                        <td>$vmName</td>
                                    </tr>
                                    <tr>
                                        <td>Version</td>
                                        <td>$vmVersion</td>
                                    </tr>
                                    <tr>
                                        <td>Java Version</td>
                                        <td>$javaVersion</td>
                                    </tr>
                                    <tr>
                                        <td>Uptime</td>
                                        <td></td>
                                    </tr>
                                </table>
                            </section>
                        </div>
                    </div>

                    <section id="cl-tasks">
                        <h2>Tasks</h2>
                        <table class="table table-striped">
                            <thead>
                                <th></th>
                                <th>Queued</th>
                                <th>Started</th>
                                <th>Stopped</th>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </section>

                    <section>
                        <h2>VM Arguments</h2>
                        <pre>#foreach ($arg in $vmArguments)$arg<br>#end</pre>
                    </section>
                </div>

                <div role="tabpanel" class="tab-pane" id="cl-application">
                    <form method="post">
                        <section>
                            <table class="table table-striped">
                                <tr>
                                    <td>Temporary Pathname
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Overrides the JVM default temporary
                                           directory.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="text"
                                               name="temp_pathname"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h2>Delegate Script</h2>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="delegate_script.enabled"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Script File
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Location of the delegate script. This can be an
                                           absolute path, or a filename; if only a filename is specified,
                                           it will be searched for in the same folder as the config file,
                                           and then the current working directory.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="text"
                                               name="delegate_script.pathname" maxlength="4096"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                            </table>

                            <table class="table table-striped">
                                <h3>Invocation Cache</h3>
                                <tr>
                                    <td>
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Enables the invocation cache, which caches method
                                           invocations and return values in memory. See the user manual
                                           for more information.">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="delegate_script.cache.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h2>Application Log</h2>
                            <table class="table table-striped">
                                <tr>
                                    <td>Log Level</td>
                                    <td>
                                        <select class="form-control"
                                                name="log.application.level"
                                                data-requires-restart="false">
                                            <option value="trace">Trace</option>
                                            <option value="debug">Debug</option>
                                            <option value="info">Info</option>
                                            <option value="warn">Warning</option>
                                            <option value="error">Error</option>
                                        </select>
                                    </td>
                                </tr>
                            </table>

                            <h3>Console Appender
                                <a tabindex="0" class="btn btn-sm cl-help"
                                   role="button" data-toggle="popover"
                                   data-trigger="focus"
                                   data-content="Logs to the console.">?</a>
                            </h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="log.application.ConsoleAppender.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>

                            <h3>File Appender
                                <a tabindex="0" class="btn btn-sm cl-help"
                                   role="button" data-toggle="popover"
                                   data-trigger="focus"
                                   data-content="Logs to a single file.">?</a>
                            </h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="log.application.FileAppender.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Pathname</td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.application.FileAppender.pathname"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>

                            <h3>Rolling File Appender
                                <a tabindex="0" class="btn btn-sm cl-help"
                                   role="button" data-toggle="popover"
                                   data-trigger="focus"
                                   data-content="Logs to a file that gets
                                   rotated daily.">?</a>
                            </h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="log.application.RollingFileAppender.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Pathname</td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.application.RollingFileAppender.pathname"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Filename Pattern</td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.application.RollingFileAppender.TimeBasedRollingPolicy.filename_pattern"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Max History</td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="log.application.RollingFileAppender.TimeBasedRollingPolicy.max_history"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>

                            <h3>Syslog Appender
                                <a tabindex="0" class="btn btn-sm cl-help"
                                   role="button" data-toggle="popover"
                                   data-trigger="focus"
                                   data-content="Sends log messages to syslogd.">?</a>
                            </h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="log.application.SyslogAppender.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Host</td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.application.SyslogAppender.host"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Port</td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="log.application.SyslogAppender.port"
                                               min="1" max="65536"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Facility
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="See the &lt;a
                                           href=&quot;http://logback.qos.ch/manual/appenders.html&quot;
                                           target=&quot;_blank&quot;&gt;SyslogAppender&lt;/a&gt;
                                           section for a list of facilities.">?</a>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.application.SyslogAppender.facility"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h2>Error Log</h2>

                            <h3>File Appender
                                <a tabindex="0" class="btn btn-sm cl-help"
                                   role="button" data-toggle="popover"
                                   data-trigger="focus"
                                   data-content="Logs to a single file.">?</a>
                            </h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="log.error.FileAppender.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Pathname</td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.error.FileAppender.pathname"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>

                            <h3>Rolling File Appender
                                <a tabindex="0" class="btn btn-sm cl-help"
                                   role="button" data-toggle="popover"
                                   data-trigger="focus"
                                   data-content="Logs to a file that gets
                                   rotated daily.">?</a>
                            </h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="log.error.RollingFileAppender.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Pathname</td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.error.RollingFileAppender.pathname"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Filename Pattern</td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.error.RollingFileAppender.TimeBasedRollingPolicy.filename_pattern"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Max History</td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="log.error.RollingFileAppender.TimeBasedRollingPolicy.max_history"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h2>Access Log</h2>

                            <h3>Console Appender
                                <a tabindex="0" class="btn btn-sm cl-help"
                                   role="button" data-toggle="popover"
                                   data-trigger="focus"
                                   data-content="Logs to the console.">?</a>
                            </h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="log.access.ConsoleAppender.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>

                            <h3>File Appender
                                <a tabindex="0" class="btn btn-sm cl-help"
                                   role="button" data-toggle="popover"
                                   data-trigger="focus"
                                   data-content="Logs to a single file.">?</a>
                            </h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="log.access.FileAppender.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Pathname</td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.access.FileAppender.pathname"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>

                            <h3>Rolling File Appender
                                <a tabindex="0" class="btn btn-sm cl-help"
                                   role="button" data-toggle="popover"
                                   data-trigger="focus"
                                   data-content="Logs to a file that gets rotated
                                   daily.">?</a>
                            </h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="log.access.RollingFileAppender.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Pathname</td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.access.RollingFileAppender.pathname"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Filename Pattern</td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.access.RollingFileAppender.TimeBasedRollingPolicy.filename_pattern"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Max History</td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="log.access.RollingFileAppender.TimeBasedRollingPolicy.max_history"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>

                            <h3>Syslog Appender
                                <a tabindex="0" class="btn btn-sm cl-help"
                                   role="button" data-toggle="popover"
                                   data-trigger="focus"
                                   data-content="Sends log messages to syslogd.">?</a>
                            </h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="log.access.SyslogAppender.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Host</td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.access.SyslogAppender.host"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Port</td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="log.access.SyslogAppender.port"
                                               min="1" max="65536"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Facility
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="See the &lt;a
                                           href=&quot;http://logback.qos.ch/manual/appenders.html&quot;
                                           target=&quot;_blank&quot;&gt;SyslogAppender&lt;/a&gt;
                                           section for a list of facilities.">?</a>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="log.access.SyslogAppender.facility"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>
                        </section>
                        <input type="submit" class="btn btn-primary" value="Save">
                    </form>
                </div>

                <div role="tabpanel" class="tab-pane" id="cl-http">
                    <form method="post">
                        <section>
                            <h2>HTTP <small>(Standalone)</small></h2>
                            <table class="table table-striped">
                                <tr>
                                    <td>
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Whether to enable the built-in HTTP server.
                                           &lt;br&gt;&lt;br&gt;(This has no effect in a
                                           Servlet container.)">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="http.enabled"
                                                       data-requires-restart="true">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Host
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Host interface to bind the built-in HTTP
                                           server to.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="text"
                                               name="http.host"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Port
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="TCP port to bind the built-in HTTP
                                           server to.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="http.port" min="1" max="65536"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                                <tr>
                                    <td>HTTP/2
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Whether to enable HTTP/2.">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="http.http2.enabled"
                                                       data-requires-restart="true">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h2>HTTPS <small>(Standalone)</small></h2>
                            <table class="table table-striped">
                                <tr>
                                    <td>
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Whether to enable the built-in HTTPS server.
                                           &lt;br&gt;&lt;br&gt;(This has no effect in a
                                           Servlet container.)">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="https.enabled"
                                                       data-requires-restart="true">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Host
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Host interface to bind the built-in HTTPS
                                           server to.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="text"
                                               name="https.host"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Port
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="TCP port to bind the built-in
                                           HTTPS server to.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="https.port" min="1" max="65536"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Key Store Type</td>
                                    <td>
                                        <select class="form-control" name="https.key_store_type">
                                            <option>JKS</option>
                                            <option>PKCS12</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Key Store Path</td>
                                    <td>
                                        <input class="form-control" type="text"
                                               name="https.key_store_path" maxlength="4096"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Key Store Password</td>
                                    <td>
                                        <input class="form-control" type="password"
                                               name="https.key_store_password"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                                <tr>
                                    <td>HTTP/2
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Whether to enable HTTP/2.">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="https.http2.enabled"
                                                       data-requires-restart="true">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h2>Other Settings</h2>
                            <table class="table table-striped">
                                <tr>
                                    <td>Accept Queue Limit
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Maximum size of the HTTP(S) request queue.
                                           Leave blank or set to 0 to use the OS default.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="http.accept_queue_limit" min="0"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Minimum Thread Pool Size
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Minimum size of the web server's thread pool.
                                           Leave blank or set to 0 to use the default.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="http.min_threads" min="0"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Maximum Thread Pool Size
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Maximum size of the web server's thread pool.
                                           Leave blank or set to 0 to use the default.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="http.max_threads" min="0"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Base URI
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Base URI to use for internal links, such as
                                           Link headers and JSON-LD &lt;code&gt;@id&lt;/code&gt; values,
                                           in a reverse-proxy context. This should only be used when
                                           &lt;code&gt;X-Forwarded-*&lt;/code&gt; headers cannot be used
                                           instead (see the user manual).">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="text"
                                               name="base_uri" maxlength="4096"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>URI Slash Substitute
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Normally, slashes in a URI path component must be
                                           percent-encoded as &lt;code&gt;%2F&lt;/code&gt;. If your proxy is
                                           incapable of passing these through without decoding them, you can
                                           define an alternate character or character sequence to substitute
                                           for a slash. Supply the non-percent-encoded version here, and use
                                           the percent-encoded version in URLs.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="text"
                                               name="slash_substitute"
                                               size="4" maxlength="4"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="print_stack_trace_on_error_pages"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Print stack trace on error pages
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <input type="submit" class="btn btn-primary" value="Save">
                    </form>
                </div>

                <div role="tabpanel" class="tab-pane" id="cl-endpoints">
                    <form method="post">
                        <section>
                            <h2>All Endpoints</h2>
                            <table class="table table-striped">
                                <tr>
                                    <td>Max Pixels
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Maximum number of pixels to return in a response,
                                           to prevent overloading the server. Requests for more pixels than
                                           this will receive an HTTP 403 response. Set to 0
                                           for no maximum.&lt;br&gt;&lt;br&gt;
                                           This is ignored when requesting an
                                           unmodified source image.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="max_pixels" min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Max Scale
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Maximum scale to allow
                                           (1.0 = full scale; 0 = no maximum).">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="max_scale" min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h2>IIIF Image API Endpoints</h2>
                            <table class="table table-striped">
                                <tr>
                                    <td>Content Disposition
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Controls the response
                                           Content-Disposition header for images.
                                           &lt;br&gt;&lt;br&gt;
                                           &quot;Attachment&quot; will generally
                                           cause web browsers to download images
                                           rather than display them. This can be
                                           overridden using the
                                           &lt;code&gt;?response-content-disposition&lt;/code&gt;
                                           query argument.">?</a>
                                    </td>
                                    <td>
                                        <select class="form-control"
                                                name="endpoint.iiif.content_disposition"
                                                data-requires-restart="false">
                                            <option value="none">None</option>
                                            <option value="inline">Inline</option>
                                            <option value="attachment">Attachment</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Minimum Size
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Minimum size that will be used in info.json
                                           &lt;code&gt;sizes&lt;/code&gt; keys.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="endpoint.iiif.min_size" min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Minimum Tile Size
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Minimum size that will be used in info.json
                                           &lt;code&gt;tiles&lt;/code&gt; keys.
                                           &lt;br&gt;&lt;br&gt;
                                           See the user manual for
                                           an explanation of how these are calculated.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="endpoint.iiif.min_tile_size" min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>

                            <h3>1.x</h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="endpoint.iiif.1.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>

                            <h3>2.x</h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="endpoint.iiif.2.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="When enabled, requests for sizes other than those
                                           specified in an info.json response will be denied with HTTP
                                           403 Forbidden.">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="endpoint.iiif.2.restrict_to_sizes"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Restrict to sizes in <span class="filename">info.json</span>
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h3>API</h3>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="endpoint.api.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Username</td>
                                    <td>
                                        <input class="form-control" type="text"
                                               name="endpoint.api.username"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Secret</td>
                                    <td>
                                        <input class="form-control" type="text"
                                               name="endpoint.api.secret"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <input type="submit" class="btn btn-primary" value="Save">
                    </form>
                </div>

                <div role="tabpanel" class="tab-pane" id="cl-source">
                    <form method="post">
                        <section>
                            <h2>Source</h2>
                            <table class="table table-striped">
                                <tr>
                                    <td>Strategy
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="When set to &quot;Static,&quot; the
                                           static source (below) will be used. When set to
                                           &quot;Delegate Script,&quot; a delegate method
                                           will be used to select a source per-request;
                                           see the User Manual for more information.">?</a>
                                    </td>
                                    <td>
                                        <select class="form-control"
                                                name="source.delegate">
                                            #if ($sourceSelectionStrategy.toString().equals("STATIC"))
                                                <option value="false" selected>Static</option>
                                                <option value="true">Delegate Script</option>
                                            #else
                                                <option value="false">Static</option>
                                                <option value="true" selected>Delegate Script</option>
                                            #end
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Static Source
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="The source to use to
                                           translate the identifier in the URL to an image
                                           source for all requests, when the strategy is
                                           &quot;Static.&quot;">?</a>
                                    </td>
                                    <td>
                                        <select class="form-control" name="source.static">
                                            #foreach ($source in $sources)
                                                #if ($source.equals($currentSource))
                                                    <option selected>$source.getName()</option>
                                                #else
                                                    <option>$source.getName()</option>
                                                #end
                                            #end
                                        </select>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <ul class="nav nav-pills" role="tablist">
                                #foreach ($source in $sources)
                                    <li role="presentation">
                                        <a href="#$source.getName()"
                                           aria-controls="$source.getName()" role="tab"
                                           data-toggle="tab">$source.getName()</a>
                                    </li>
                                #end
                            </ul>

                            <div class="tab-content">
                                <div role="tabpanel" class="tab-pane" id="S3Source">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Access Key ID
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Access key ID associated with your AWS
                                                   account. See: &lt;a href=&quot;http://aws.amazon.com/security-credentials&quot; target=&quot;_blank&quot;&gt;
                                                   http://aws.amazon.com/security-credentials&lt;/a&gt;
                                                   &lt;br&gt;&lt;br&gt;
                                                   Note that credentials can be obtained from elsewhere rather than setting
                                                   them here; see the user manual.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="S3Source.access_key_id"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Secret Key
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Secret key associated with your AWS
                                                   account. See: &lt;a href=&quot;http://aws.amazon.com/security-credentials&quot; target=&quot;_blank&quot;&gt;
                                                   http://aws.amazon.com/security-credentials&lt;/a&gt;
                                                   &lt;br&gt;&lt;br&gt;
                                                   Note that credentials can be obtained from elsewhere rather than setting
                                                   them here; see the user manual.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="S3Source.secret_key"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Bucket Name
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Name of the bucket containing images to
                                                   be served.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="S3Source.BasicLookupStrategy.bucket.name"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Endpoint
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="See: &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region&quot;&gt;
                                                   http://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region&lt;/a&gt;
                                                   for a list of AWS endpoints.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="S3Source.endpoint"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Lookup Strategy
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Tells the source how to look up images.
                                                   The delegate script enables dynamic lookups&mdash;see
                                                   the user manual for details.">?</a>
                                            </td>
                                            <td>
                                                <select class="form-control"
                                                        name="S3Source.lookup_strategy"
                                                        data-requires-restart="false">
                                                    <option value="BasicLookupStrategy">Basic</option>
                                                    <option value="ScriptLookupStrategy">Delegate Script</option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Path Prefix
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Path within the bucket that will be prefixed to the
                                                   identifier in the URL. &lt;strong&gt;Trailing
                                                   slash is important&lt;/strong&gt;.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="S3Source.BasicLookupStrategy.path_prefix"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Path Suffix
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Path or extension that will be suffixed to the
                                                   identifier in the URL.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="S3Source.BasicLookupStrategy.path_suffix"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Chunking
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Read data in chunks when it may be more efficient.
                                                   (This also may end up being less efficient, depending on many
                                                   variables; see the user manual.)">?</a>
                                            </td>
                                            <td>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox"
                                                               name="S3Source.chunking.enabled"
                                                               value="true"
                                                               data-requires-restart="false">
                                                        Enabled
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Chunk Size
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Chunk size, in bytes or a number
                                                   ending in M, MB, G, GB, etc.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="S3Source.chunking.chunk_size"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Chunk Cache
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="The per-request chunk cache caches downloaded
                                                   chunks in memory during a request, and clears them when the
                                                   request is complete.">?</a>
                                            </td>
                                            <td>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox"
                                                               name="S3Source.chunking.cache.enabled"
                                                               value="true"
                                                               data-requires-restart="false">
                                                        Enabled
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Max Chunk Cache Size
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Max per-request chunk cache size, in bytes or a number
                                                   ending in M, MB, G, GB, etc..">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="S3Source.chunking.cache.max_size"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="AzureStorageSource">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Account Name
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Name of your Azure account. Leave blank if
                                                   using URIs with a SAS token in your object key.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="AzureStorageSource.account_name"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Account Key
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Key of your Azure account. Leave blank if
                                                   using URIs with a SAS token in your object key.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="AzureStorageSource.account_key"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Container Name
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Name of the container containing images
                                                   to be served. Leave blank if using URIs with the container
                                                   name in your object key.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="AzureStorageSource.container_name"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Lookup Strategy
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Tells the source how to look up images.
                                                   The delegate script enables dynamic lookups&mdash;see
                                                   the user manual for details.">?</a>
                                            </td>
                                            <td>
                                                <select class="form-control"
                                                        name="AzureStorageSource.lookup_strategy"
                                                        data-requires-restart="false">
                                                    <option value="BasicLookupStrategy">Basic</option>
                                                    <option value="ScriptLookupStrategy">Delegate Script</option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Chunking
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Read data in chunks when it may be more efficient.
                                                   (This also may end up being less efficient, depending on many
                                                   variables; see the user manual.)">?</a>
                                            </td>
                                            <td>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox"
                                                               name="AzureStorageSource.chunking.enabled"
                                                               value="true"
                                                               data-requires-restart="false">
                                                        Enabled
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Chunk Size
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Chunk size, in bytes or a number
                                                   ending in M, MB, G, GB, etc.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="AzureStorageSource.chunking.chunk_size"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Chunk Cache
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="The per-request chunk cache caches downloaded
                                                   chunks in memory during a request, and clears them when the
                                                   request is complete.">?</a>
                                            </td>
                                            <td>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox"
                                                               name="AzureStorageSource.chunking.cache.enabled"
                                                               value="true"
                                                               data-requires-restart="false">
                                                        Enabled
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Max Chunk Cache Size
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Max per-request chunk cache size, in bytes or a number
                                                   ending in M, MB, G, GB, etc.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="AzureStorageSource.chunking.cache.max_size"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="FilesystemSource">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Lookup Strategy
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Tells the source how to look up images.
                                                   The delegate script enables dynamic lookups&mdash;see
                                                   the user manual for details.">?</a>
                                            </td>
                                            <td>
                                                <select class="form-control"
                                                        name="FilesystemSource.lookup_strategy"
                                                        data-requires-restart="false">
                                                    <option value="BasicLookupStrategy">Basic</option>
                                                    <option value="ScriptLookupStrategy">Delegate Script</option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Path Prefix
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Server-side path that will be prefixed
                                                   to the identifier in the URL. &lt;strong&gt;Trailing
                                                   slash is important&lt;/strong&gt;.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="FilesystemSource.BasicLookupStrategy.path_prefix"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Path Suffix
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Server-side path or extension that will
                                                   be suffixed to the identifier in the URL.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="FilesystemSource.BasicLookupStrategy.path_suffix"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="HttpSource">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Whether to trust all certificates and
                                                   cipher suites when making HTTPS connections.">?</a>
                                            </td>
                                            <td>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox"
                                                               name="HttpSource.allow_insecure"
                                                               value="true"
                                                               data-requires-restart="false">
                                                        Allow Insecure Connections
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                Request Timeout
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Request timeout in seconds.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="number" min="1"
                                                       name="HttpSource.request_timeout"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Lookup Strategy
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Tells the source how to look up images.
                                                   The delegate script enables dynamic lookups&mdash;see
                                                   the user manual for details.">?</a>
                                            </td>
                                            <td>
                                                <select class="form-control"
                                                        name="HttpSource.lookup_strategy"
                                                        data-requires-restart="false">
                                                    <option value="BasicLookupStrategy">Basic</option>
                                                    <option value="ScriptLookupStrategy">Delegate Script</option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>URL Prefix
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="URL that will be prefixed to the
                                                   identifier in the request URL. &lt;strong&gt;Trailing
                                                   slash is important&lt;/strong&gt;.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="HttpSource.BasicLookupStrategy.url_prefix"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>URL Suffix
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Path, extension, query string, etc. that
                                                   will be suffixed to the identifier in the request URL.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="HttpSource.BasicLookupStrategy.url_suffix"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Basic Auth Username
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Will be used if the web server requires
                                                   HTTP Basic authentication.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="HttpSource.BasicLookupStrategy.auth.basic.username"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Basic Auth Secret
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Will be used if the web server requires
                                                   HTTP Basic authentication.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="HttpSource.BasicLookupStrategy.auth.basic.secret"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Chunking
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Read data in chunks when it may be more efficient.
                                                   (This also may end up being less efficient, depending on many
                                                   variables; see the user manual.)">?</a>
                                            </td>
                                            <td>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox"
                                                               name="HttpSource.chunking.enabled"
                                                               value="true"
                                                               data-requires-restart="false">
                                                        Enabled
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Chunk Size
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Chunk size, in bytes or a number
                                                   ending in M, MB, G, GB, etc.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="HttpSource.chunking.chunk_size"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Chunk Cache
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="The per-request chunk cache caches downloaded
                                                   chunks in memory during a request, and clears them when the
                                                   request is complete.">?</a>
                                            </td>
                                            <td>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox"
                                                               name="HttpSource.chunking.cache.enabled"
                                                               value="true"
                                                               data-requires-restart="false">
                                                        Enabled
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Max Chunk Cache Size
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Max per-request chunk cache size, in bytes or a number
                                                   ending in M, MB, G, GB, etc.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="HttpSource.chunking.cache.max_size"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="JdbcSource">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>JDBC URL</td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="JdbcSource.url"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>User</td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="JdbcSource.user"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Password</td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="JdbcSource.password"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Connection Timeout (seconds)</td>
                                            <td>
                                                <input class="form-control" type="number"
                                                       name="JdbcSource.connection_timeout" min="0"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </section>
                        <input type="submit" class="btn btn-primary" value="Save">
                    </form>
                </div>

                <div role="tabpanel" class="tab-pane" id="cl-processors">
                    <section>
                        <h2>Supported Source Formats</h2>

                        <ul class="nav nav-pills" role="tablist">
                            <li role="presentation" class="active">
                                <a href="#supported-image-formats"
                                   aria-controls="supported-image-formats" role="tab"
                                   data-toggle="tab">Image</a>
                            </li>
                            <li role="presentation">
                                <a href="#supported-video-formats"
                                   aria-controls="supported-video-formats" role="tab"
                                   data-toggle="tab">Video</a>
                            </li>
                        </ul>

                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane active" id="supported-image-formats">
                                <table class="table">
                                    <tr>
                                        <th></th>
                                        #foreach ($format in $imageSourceFormats)
                                            <th class="text-center">$format.getName()</th>
                                        #end
                                    </tr>

                                    #foreach ($processor in $processors)
                                        <tr>
                                            <td>$processor.getName()</td>
                                            #foreach ($format in $imageSourceFormats)
                                                #if ($processor.supports($format))
                                                    <td class="text-center success">
                                                        <span class="text-success">&check;</span>
                                                    </td>
                                                #else
                                                    <td class="text-center danger">
                                                        <span class="text-danger">&#x2717;</span>
                                                    </td>
                                                #end
                                            #end
                                        </tr>
                                    #end
                                </table>
                            </div>

                            <div role="tabpanel" class="tab-pane" id="supported-video-formats">
                                <table class="table">
                                    <tr>
                                        <th></th>
                                        #foreach ($format in $videoSourceFormats)
                                            <th class="text-center">$format.getName()</th>
                                        #end
                                    </tr>

                                    #foreach ($processor in $processors)
                                        <tr>
                                            <td>$processor.getName()</td>
                                            #foreach ($format in $videoSourceFormats)
                                                #if ($processor.supports($format))
                                                    <td class="text-center success">
                                                        <span class="text-success">&check;</span>
                                                    </td>
                                                #else
                                                    <td class="text-center danger">
                                                        <span class="text-danger">&#x2717;</span>
                                                    </td>
                                                #end
                                            #end
                                        </tr>
                                    #end
                                </table>
                            </div>
                        </div>
                    </section>

                    #if ($anyWarnings)
                        <section id="cl-processor-warnings">
                            <h2>Warnings</h2>
                            <table class="table table-striped">
                                #foreach ($processor in $processors)
                                    #if ($processor.getWarnings().size() > 0)
                                        <tr>
                                            <td class="bg-warning">
                                                $processor.getName()
                                            </td>
                                            <td class="bg-warning">
                                                <ul>
                                                    #foreach ($warning in $processor.getWarnings())
                                                         <li>$warning</li>
                                                    #end
                                                </ul>
                                            </td>
                                        </tr>
                                    #end
                                #end
                            </table>
                        </section>
                    #end

                    <form method="post">
                        <section>
                            <h2>Selection Strategy</h2>

                            <table class="table table-striped">
                                <tr>
                                    <td>
                                        Selection Strategy
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="&lt;ul&gt;
                                           &lt;li&gt;If set to Automatic, the &quot;best&quot; available processor will
                                           be selected per-request based on formats and installed
                                           dependencies.&lt;/li&gt;
                                           &lt;li&gt;If set to Manual, a processor will be chosen based
                                           on the Source Format Assignments section.&lt;/li&gt;
                                           &lt;/ul&gt;">?</a>
                                    </td>
                                    <td>
                                        <select class="form-control"
                                                name="processor.selection_strategy"
                                                data-restart-required="false">
                                            #if ($processorSelectionStrategy.toString().equals("AutomaticSelectionStrategy"))
                                                <option value="AutomaticSelectionStrategy" selected>Automatic</option>
                                                <option value="ManualSelectionStrategy">Manual</option>
                                            #else
                                                <option value="AutomaticSelectionStrategy">Automatic</option>
                                                <option value="ManualSelectionStrategy" selected>Manual</option>
                                            #end
                                        </select>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h2>Source Format Assignments</h2>

                            <ul class="nav nav-pills" role="tablist">
                                <li role="presentation" class="active">
                                    <a href="#cl-image-assignments"
                                       aria-controls="cl-image-assignments" role="tab"
                                       data-toggle="tab">Image</a>
                                </li>
                                <li role="presentation">
                                    <a href="#cl-video-assignments"
                                       aria-controls="cl-video-assignments" role="tab"
                                       data-toggle="tab">Video</a>
                                </li>
                            </ul>

                            <div class="tab-content">
                                <div role="tabpanel" class="tab-pane active" id="cl-image-assignments">
                                    <table class="table table-striped cl-source-format-assignments">
                                        #foreach ($format in $sourceFormats)
                                            #if ($format.isImage())
                                                <tr>
                                                    <td style="width:30%">$format.getName()</td>
                                                    <td>
                                                        <select class="form-control"
                                                                name="processor.ManualSelectionStrategy.$format.toString()"
                                                                data-restart-required="false">
                                                            #if ($currentProcessors.get($format))
                                                                <option value="">Use Fallback</option>
                                                            #else
                                                                <option value="" selected>Use Fallback</option>
                                                            #end
                                                            #foreach ($processor in $processors)
                                                                #if ($processor.supports($format))
                                                                    #if ($currentProcessors.get($format).equals($processor))
                                                                        <option selected>$processor.getName()</option>
                                                                    #else
                                                                        <option>$processor.getName()</option>
                                                                    #end
                                                                #end
                                                            #end
                                                        </select>
                                                    </td>
                                                </tr>
                                            #end
                                        #end
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="cl-video-assignments">
                                    <table class="table table-striped cl-source-format-assignments">
                                        #foreach ($format in $sourceFormats)
                                            #if ($format.isVideo())
                                                <tr>
                                                    <td style="width:30%">$format.getName()</td>
                                                    <td>
                                                        <select class="form-control"
                                                                name="processor.ManualSelectionStrategy.$format.toString()"
                                                                data-restart-required="false">
                                                            #if ($currentProcessors.get($format))
                                                                <option value="">Use Fallback</option>
                                                            #else
                                                                <option value="" selected>Use Fallback</option>
                                                            #end
                                                            #foreach ($processor in $processors)
                                                                #if ($processor.supports($format))
                                                                    #if ($currentProcessors.get($format).equals($processor))
                                                                        <option selected>$processor.getName()</option>
                                                                    #else
                                                                        <option>$processor.getName()</option>
                                                                    #end
                                                                #end
                                                            #end
                                                        </select>
                                                    </td>
                                                </tr>
                                            #end
                                        #end
                                    </table>
                                </div>

                                <table class="table table-striped">
                                    <tr>
                                        <td>
                                            Fallback Processor
                                            <a tabindex="0" class="btn btn-sm cl-help"
                                               role="button" data-toggle="popover"
                                               data-trigger="focus"
                                               data-content="This processor will be used
                                               for any formats not assigned above.">?</a>
                                        </td>
                                        <td>
                                            <select class="form-control"
                                                    name="processor.ManualSelectionStrategy.fallback"
                                                    data-restart-required="false">
                                                #foreach ($processor in $processors)
                                                    #if ($currentFallbackProcessor.equals($processor))
                                                        <option selected>$processor.getName()</option>
                                                    #else
                                                        <option>$processor.getName()</option>
                                                    #end
                                                #end
                                            </select>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </section>

                        <section>
                            <h2>Options</h2>

                            <table class="table table-striped">
                                <tr>
                                    <td>Stream Retrieval Strategy
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Controls how content is fed to processors from stream-based sources.
                                           &lt;ul&gt;
                                           &lt;li&gt;StreamStrategy will try to stream a source image from a source when
                                           possible, and use the fallback retrieval strategy otherwise.&lt;/li&gt;
                                           &lt;li&gt;DownloadStrategy will download it to a temporary file, and delete
                                           it after the request is complete.&lt;/li&gt;
                                           &lt;li&gt;CacheStrategy will download it into the source cache using
                                           FilesystemCache, which must also be configured. (This will perform a
                                           lot better than DownloadStrategy if you can spare the disk space.)&lt;/li&gt;
                                           &lt;/ul&gt;">?</a>
                                    </td>
                                    <td>
                                        <select class="form-control"
                                                name="processor.stream_retrieval_strategy"
                                                data-restart-required="false">
                                            <option value="StreamStrategy">Stream From Source (StreamStrategy)</option>
                                            <option value="DownloadStrategy">Download to Temp File (DownloadStrategy)</option>
                                            <option value="CacheStrategy">Cache in Source Cache (CacheStrategy)</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Fallback Retrieval Strategy
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Controls how an incompatible source/processor (StreamSource +
                                           FileProcessor) situation is dealt with.
                                           &lt;ul&gt;
                                           &lt;li&gt;DownloadStrategy will download a source image to a temporary file, and delete
                                           it after the request is complete.&lt;/li&gt;
                                           &lt;li&gt;CacheStrategy will download it into the source cache using
                                           FilesystemCache, which must also be configured. (This will perform a
                                           lot better than DownloadStrategy if you can spare the disk space.)&lt;/li&gt;
                                           &lt;li&gt;AbortStrategy will abort the retrieval.&lt;/li&gt;
                                           &lt;/ul&gt;">?</a>
                                    </td>
                                    <td>
                                        <select class="form-control"
                                                name="processor.fallback_retrieval_strategy"
                                                data-restart-required="false">
                                            <option value="DownloadStrategy">Download to Temp File (DownloadStrategy)</option>
                                            <option value="CacheStrategy">Cache in Source Cache (CacheStrategy)</option>
                                            <option value="AbortStrategy">Abort the Retrieval (AbortStrategy)</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>DPI
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Resolution of vector rasterization (of e.g.
                                           PDFs) at a scale of 1.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="processor.dpi"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Background color
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Color of the background when an image
                                               is rotated or alpha-flattened, for output
                                               formats that do not support transparency. This may
                                               not be respected for indexed color derivative images.">?</a>
                                    </td>
                                    <td>
                                        <select class="form-control"
                                                name="processor.background_color"
                                                data-requires-restart="false">
                                            <option value="black">Black</option>
                                            <option value="white">White</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Downscale Filter
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Selectable downscale filters are supported
                                           by all processors except JaiProcessor and
                                           KakaduNativeProcessor.">?</a>
                                    </td>
                                    <td>
                                        <select class="form-control"
                                                name="processor.downscale_filter"
                                                data-requires-restart="false">
                                            #foreach ($filter in $scaleFilters)
                                                <option value="$filter.toString().toLowerCase()">$filter.getName()</option>
                                            #end
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Upscale Filter
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Selectable upscale filters are supported
                                           by all processors except JaiProcessor and
                                           KakaduNativeProcessor.">?</a>
                                    </td>
                                    <td>
                                        <select class="form-control"
                                                name="processor.upscale_filter"
                                                data-requires-restart="false">
                                            #foreach ($filter in $scaleFilters)
                                                <option value="$filter.toString().toLowerCase()">$filter.getName()</option>
                                            #end
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Sharpening
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Applies an unsharp mask.
                                               Must be a decimal number between 0 and 1">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               step="0.1"
                                               name="processor.sharpen"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Attempts to copy source image metadata
                                           (EXIF, IPTC, XMP) into derivative images. (This is
                                           not foolproof; see the user manual.)">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="processor.metadata.preserve"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Preserve Metadata
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Progressive JPEGs are generally more
                                           space-efficient and can provide a better user
                                           experience, but they are not quite as well-supported
                                           by all software.">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="processor.jpg.progressive"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Progressive JPEG
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>JPEG quality
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Should be a number
                                               between 1 and 100. Larger numbers numbers offer better
                                               quality at the expense of larger files.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="processor.jpg.quality"
                                               min="1" max="100"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>TIFF compression
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="TIFF output compression type.">?</a>
                                    </td>
                                    <td>
                                        <select class="form-control"
                                                name="processor.tif.compression"
                                                data-requires-restart="false">
                                            <option value="">No Compression</option>
                                            <option value="Deflate">Deflate</option>
                                            <option value="JPEG">JPEG</option>
                                            <option value="LZW">LZW</option>
                                            <option value="RLE">RLE</option>
                                        </select>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h2>Processors</h2>

                            <ul class="nav nav-pills" role="tablist">
                                #foreach ($processor in $processors)
                                    <li role="presentation">
                                        <a href="#$processor.getName()"
                                           aria-controls="$processor.getName()" role="tab"
                                           data-toggle="tab">$processor.getName()</a>
                                    </li>
                                #end
                            </ul>

                            <div class="tab-content">
                                <div role="tabpanel" class="tab-pane" id="FfmpegProcessor">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Path to binaries
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Optional; overrides the
                                                   &lt;code&gt;PATH&lt;/code&gt;.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="FfmpegProcessor.path_to_binaries"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="GraphicsMagickProcessor">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Path to binaries
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Optional; overrides the
                                                   &lt;code&gt;PATH&lt;/code&gt;.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="GraphicsMagickProcessor.path_to_binaries"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="JaiProcessor">
                                    <p>This processor is not configurable.</p>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="Java2dProcessor">
                                    <p>This processor is not configurable.</p>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="ImageMagickProcessor">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Path to binaries
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Optional; overrides the
                                                   &lt;code&gt;PATH&lt;/code&gt;.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="ImageMagickProcessor.path_to_binaries"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="KakaduDemoProcessor">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Path to binaries
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Optional; overrides the
                                                   &lt;code&gt;PATH&lt;/code&gt;.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="KakaduDemoProcessor.path_to_binaries"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="KakaduNativeProcessor">
                                    <p>This processor is not configurable.</p>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="OpenJpegProcessor">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Path to binaries
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Optional; overrides the
                                                   &lt;code&gt;PATH&lt;/code&gt;.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text"
                                                       name="OpenJpegProcessor.path_to_binaries"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="PdfBoxProcessor">
                                    <p>This processor is not configurable.</p>
                                </div>
                            </div>
                        </section>
                        <input type="submit" class="btn btn-primary" value="Save">
                    </form>
                </div>

                <div role="tabpanel" class="tab-pane" id="cl-caches">
                    <form method="post">
                        <section>
                            <h2>Cache-Control Header</h2>
                            <table class="table table-striped">
                                <tr>
                                    <td>
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="The Cache-Control header
                                           provides a hint to clients as to how they
                                           should cache content.">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.client.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Max Age</td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="cache.client.max_age" min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Shared Max Age</td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="cache.client.shared_max_age" min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.client.public"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Public
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.client.private"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Private
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.client.no_cache"
                                                       value="true"
                                                       data-requires-restart="false">
                                                No Cache
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.client.no_store"
                                                       value="true"
                                                       data-requires-restart="false">
                                                No Store
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.client.must_revalidate"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Must Revalidate
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.client.proxy_revalidate"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Proxy Revalidate
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.client.no_transform"
                                                       value="true"
                                                       data-requires-restart="false">
                                                No Transform
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </section>
                        <section>
                            <h2>Server-Side Caches</h2>
                            <table class="table table-striped">
                                <tr>
                                    <td>Source Cache Implementation</td>
                                    <td>
                                        <select class="form-control"
                                                name="cache.server.source">
                                            #foreach ($cache in $sourceCaches)
                                                #if ($cache.equals($currentSourceCache))
                                                    <option selected>$cache.getName()</option>
                                                #else
                                                    <option>$cache.getName()</option>
                                                #end
                                            #end
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Source Cache Time-To-Live
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Amount of time source cache content
                                           remains valid. Set to blank or 0 for forever.">?</a>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="cache.server.source.ttl_seconds"
                                               min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Derivative Cache
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Specifies a cache to use
                                           for post-processed images.">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.server.derivative.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Derivative Cache Implementation</td>
                                    <td>
                                        <select class="form-control"
                                                name="cache.server.derivative">
                                            #foreach ($cache in $derivativeCaches)
                                                #if ($cache.equals($currentDerivativeCache))
                                                    <option selected>$cache.getName()</option>
                                                #else
                                                    <option>$cache.getName()</option>
                                                #end
                                            #end
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Derivative Cache Time-To-Live
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Amount of time derivative cache content
                                           remains valid. Set to blank or 0 for forever.">?</a>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="cache.server.derivative.ttl_seconds"
                                               min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Info Cache
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Caches infos in the Java heap, in addition
                                           to a derivative cache (if enabled).">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.server.info.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="If enabled, when a source reports that the
                                           requested source image has gone missing, all cached
                                           information relating to it (if any) will be deleted. (This
                                           is effectively always enabled when &quot;Resolve First&quot;
                                           is also enabled.)">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.server.purge_missing"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Purge Missing
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="When enabled, a source image will be confirmed
                                           to exist before a cached copy is returned. Otherwise, a cached
                                           copy will be returned without any checking. Resolving first
                                           is slower, but safer.">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.server.resolve_first"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Resolve First
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h2>Caches</h2>

                            <ul class="nav nav-pills" role="tablist">
                                #foreach ($cache in $derivativeCaches)
                                    <li role="presentation">
                                        <a href="#$cache.getName()"
                                           aria-controls="$cache.getName()" role="tab"
                                           data-toggle="tab">$cache.getName()</a>
                                    </li>
                                #end
                            </ul>

                            <div class="tab-content">
                                <div role="tabpanel" class="tab-pane" id="S3Cache">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Access Key ID
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Access key ID associated with your AWS
                                                   account. See: &lt;a href=&quot;http://aws.amazon.com/security-credentials&quot; target=&quot;_blank&quot;&gt;
                                                   http://aws.amazon.com/security-credentials&lt;/a&gt;
                                                   &lt;br&gt;&lt;br&gt;
                                                   Note that credentials can be obtained from elsewhere rather than setting
                                                   them here; see the user manual.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="S3Cache.access_key_id"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Secret Key
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Secret key associated with your AWS
                                                   account. See: &lt;a href=&quot;http://aws.amazon.com/security-credentials&quot; target=&quot;_blank&quot;&gt;
                                                   http://aws.amazon.com/security-credentials&lt;/a&gt;
                                                   &lt;br&gt;&lt;br&gt;
                                                   Note that credentials can be obtained from elsewhere rather than setting
                                                   them here; see the user manual.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="S3Cache.secret_key"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Bucket Name
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Name of the bucket to use to store
                                                   cached data.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="S3Cache.bucket.name"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Endpoint
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="See: &lt;a href=&quot;http://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region&quot;&gt;
                                                   http://docs.aws.amazon.com/general/latest/gr/rande.html#s3_region&lt;/a&gt;
                                                   for a list of AWS endpoints.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="S3Cache.endpoint"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Object Key Prefix
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="String that will be prefixed to object
                                                   keys.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="S3Cache.object_key_prefix"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Max Connections
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Maximum number of concurrent HTTP connections to AWS.">?</a>
                                            </td>
                                            <td>
                                                <input class="form-control" type="number"
                                                       min="1"
                                                       name="S3Cache.max_connections"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="AzureStorageCache">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Account Name
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Name of your Azure account.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="AzureStorageCache.account_name"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Account Key
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Key of your Azure account.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="AzureStorageCache.account_key"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Container Name
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Name of the container containing cached
                                                   images.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="AzureStorageCache.container_name"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Object Key Prefix
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="String that will be prefixed to object
                                                   keys.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="AzureStorageCache.object_key_prefix"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="FilesystemCache">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Pathname
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="If this directory does not exist, it
                                                   will be created automatically.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="FilesystemCache.pathname"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Directory Depth
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Levels of folder hierarchy in which to
                                                   store cached items. Deeper depth results in fewer
                                                   files per directory. Set to 0 to disable subfolders.
                                                   Purge the cache after changing this.">?</a>
                                            </td>
                                            <td>
                                                <input type="number" class="form-control"
                                                       name="FilesystemCache.dir.depth"
                                                       min="0" max="6"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Directory Name Length
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Number of characters in hierarchy
                                                   directory names. Should be set to
                                                   16&lt;sup&gt;n&lt;/sup&gt; < {max number
                                                   of directory entries your filesystem can deal with}.
                                                   Purge the cache after changing this.">?</a>
                                            </td>
                                            <td>
                                                <input type="number" class="form-control"
                                                       name="FilesystemCache.dir.name_length"
                                                       min="1" max="6"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="JdbcCache">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>JDBC URL</td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="JdbcCache.url"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>User</td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="JdbcCache.user"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Password</td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="JdbcCache.password"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Connection Timeout</td>
                                            <td>
                                                <input type="number" class="form-control"
                                                       name="JdbcCache.connection_timeout"
                                                       min="0"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Derivative Image Table
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="This must be created manually; see the
                                                   user manual.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="JdbcCache.derivative_image_table"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Info Table
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="This must be created manually; see the
                                                   user manual.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="JdbcCache.info_table"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="HeapCache">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Max Size
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="Target cache size, in bytes or a number
                                                   ending in M, MB, G, GB, etc. This may be transiently
                                                   exceeded. Make sure your heap can accommodate this
                                                   size using the -Xmx= VM argument.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="HeapCache.target_size"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="If enabled, the cache contents will be
                                                   written to a file on exit and during cache worker shifts,
                                                   and read back in at startup.">?</a>
                                            </td>
                                            <td>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox"
                                                               name="HeapCache.persist"
                                                               value="false"
                                                               data-requires-restart="false">
                                                        Persist
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Pathname
                                                <a tabindex="0" class="btn btn-sm cl-help"
                                                   role="button" data-toggle="popover"
                                                   data-trigger="focus"
                                                   data-content="If persistence is enabled, this specifies
                                                   the location of the cache file. If the parent directory
                                                   does not exist, it will be created automatically.">?</a>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="HeapCache.persist.filesystem.pathname"
                                                       data-requires-restart="false">
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div role="tabpanel" class="tab-pane" id="RedisCache">
                                    <table class="table table-striped">
                                        <tr>
                                            <td>Host</td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="RedisCache.host"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Port</td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="RedisCache.port"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <div class="checkbox">
                                                    <label>
                                                        <input type="checkbox"
                                                               name="RedisCache.ssl"
                                                               value="true"
                                                               data-requires-restart="true">
                                                        Use SSL
                                                    </label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Password</td>
                                            <td>
                                                <input type="text" class="form-control"
                                                       name="RedisCache.password"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Database</td>
                                            <td>
                                                <input type="number" class="form-control"
                                                       name="RedisCache.database"
                                                       min="0"
                                                       data-requires-restart="true">
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </section>

                        <section>
                            <h2>Cache Worker</h2>
                            <table class="table table-striped">
                                <tr>
                                    <td>
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="The cache worker periodically purges invalid
                                           cache items in the background.">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="cache.server.worker.enabled"
                                                       value="true"
                                                       data-requires-restart="true">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Interval
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="The cache worker will wait this many seconds
                                           before starting its next shift.">?</a>
                                    </td>
                                    <td>
                                        <input class="form-control" type="number"
                                               name="cache.server.worker.interval"
                                               min="0"
                                               data-requires-restart="true">
                                    </td>
                                </tr>
                            </table>
                        </section>
                        <input type="submit" class="btn btn-primary" value="Save">
                    </form>
                </div>

                <div role="tabpanel" class="tab-pane" id="cl-overlays">
                    <form method="post">
                        <section>
                            <h2>Overlays</h2>
                            <table class="table table-striped">
                                <tr>
                                    <td></td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="overlays.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Strategy
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Configures how overlays work.
                                           &quot;Basic&quot;will use the other configuration options in
                                           this section. &quot;Delegate Script&quot; will use the
                                           &lt;code&gt;overlay&lt;/code&gt; delegate script method.
                                           See the user manual for more information.">?</a>
                                    </td>
                                    <td>
                                        <select class="form-control"
                                                name="overlays.strategy"
                                                data-requires-restart="false">
                                            <option value="BasicStrategy">Basic</option>
                                            <option value="DelegateScript">Delegate Script</option>
                                        </select>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section id="cl-overlays-basic">
                            <h3>BasicStrategy</h3>
                            <table class="table table-striped">
                                <tr>
                                    <td>Position</td>
                                    <td>
                                        <select class="form-control"
                                                name="overlays.BasicStrategy.position"
                                                data-requires-restart="false">
                                            <option value="top left">Top Left</option>
                                            <option value="top center">Top Center</option>
                                            <option value="top right">Top Right</option>
                                            <option value="left center">Left Center</option>
                                            <option value="center">Center</option>
                                            <option value="right center">Right Center</option>
                                            <option value="bottom left">Bottom Left</option>
                                            <option value="bottom center">Bottom Center</option>
                                            <option value="bottom right">Bottom Right</option>
                                            <option value="repeat">Repeat</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Inset
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Pixel margin between the overlay and the
                                           image edge.">?</a>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="overlays.BasicStrategy.inset"
                                               min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Output Width Threshold
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Output images less than this many pixels wide
                                           will not receive an overlay. Set to 0 to add the overlay
                                           regardless.">?</a>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="overlays.BasicStrategy.output_width_threshold"
                                               min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Output Height Threshold
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Output images less than this many pixels tall
                                           will not receive an overlay. Set to 0 to add the overlay
                                           regardless.">?</a>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="overlays.BasicStrategy.output_height_threshold"
                                               min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Type</td>
                                    <td>
                                        <select class="form-control"
                                                name="overlays.BasicStrategy.type"
                                                data-requires-restart="false">
                                            <option value="string">String</option>
                                            <option value="image">Image</option>
                                        </select>
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section id="cl-overlays-basic-image">
                            <h4>BasicStrategy (Image)</h4>
                            <table class="table table-striped">
                                <tr>
                                    <td>Image File
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Absolute path of the overlay image. Must be a
                                           .png file.">?</a>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="overlays.BasicStrategy.image"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section id="cl-overlays-basic-string">
                            <h4>BasicStrategy (String)</h4>
                            <table class="table table-striped">
                                <tr>
                                    <td>String</td>
                                    <td>
                                        <textarea class="form-control"
                                               name="overlays.BasicStrategy.string"
                                               data-requires-restart="false"></textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Font</td>
                                    <td>
                                        <select class="form-control"
                                                name="overlays.BasicStrategy.string.font"
                                                data-requires-restart="false">
                                            #foreach ($font in $fonts)
                                                #if ($font.equals($currentOverlayFont))
                                                    <option selected>$font</option>
                                                #else
                                                    <option>$font</option>
                                                #end
                                            #end
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Font Size
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Font size in points.">?</a>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="overlays.BasicStrategy.string.font.size"
                                               min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Minimum Font Size
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="If the string doesn't fit in the
                                           image at the above size, the largest size at
                                           which it does fit will be used, down to this.">?</a>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="overlays.BasicStrategy.string.font.min_size"
                                               min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Font Weight
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Font weight. Note that many fonts
                                           don't support fractional weights.">?</a>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="overlays.BasicStrategy.string.font.weight"
                                               min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Glyph Spacing
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Spacing between glyphs in points.">?</a>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="overlays.BasicStrategy.string.glyph_spacing"
                                               min="-1" max="1" step="0.1"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Font Color
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="CSS color syntax is supported.">?</a>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="overlays.BasicStrategy.string.color"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Stroke Color
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="CSS color syntax is supported.">?</a>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="overlays.BasicStrategy.string.stroke.color"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Stroke Width
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Thickness of the text outline in pixels.">?</a>
                                    </td>
                                    <td>
                                        <input type="number" class="form-control"
                                               name="overlays.BasicStrategy.string.stroke.width"
                                               min="0"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Background Color
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="CSS color syntax (including alpha)
                                           is supported.">?</a>
                                    </td>
                                    <td>
                                        <input type="text" class="form-control"
                                               name="overlays.BasicStrategy.string.background.color"
                                               data-requires-restart="false">
                                    </td>
                                </tr>
                            </table>
                        </section>

                        <section>
                            <h2>Redaction</h2>
                            <table class="table table-striped">
                                <tr>
                                    <td>
                                        <a tabindex="0" class="btn btn-sm cl-help"
                                           role="button" data-toggle="popover"
                                           data-trigger="focus"
                                           data-content="Redaction works via the
                                           delegate script. See the user manual for
                                           more information.">?</a>
                                    </td>
                                    <td>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox"
                                                       name="redaction.enabled"
                                                       value="true"
                                                       data-requires-restart="false">
                                                Enabled
                                            </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </section>
                        <input type="submit" class="btn btn-primary" value="Save">
                    </form>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <a href="https://cantaloupe-project.github.io/"
           target="_blank">Home (GitHub)</a> |
        <a href="https://cantaloupe-project.github.io/manual/"
           target="_blank">User Manual</a>
    </footer>

</div>

<script type="text/javascript" src="static/scripts/jquery.min.js"></script>
<script type="text/javascript" src="static/scripts/bootstrap.min.js"></script>
<script type="text/javascript" src="static/scripts/admin.js"></script>

</body>
</html>
