---
layout: manual_4.1
title: Logging
---

<h1>Logging</h1>

<ul class="toc">
  <li><a href="#Application%20Log">Application Log</a></li>
  <li><a href="#Error%20Log">Error Log</a></li>
  <li><a href="#Access%20Log">Access Log</a></li>
</ul>

<h2 id="Application Log">Application Log</h2>

<h3>Log Levels</h3>

<p>The <code>log.application.level</code> configuration key specifies the severity threshold beneath which log messages will be discarded. Available values, in order of severity, are: <code>trace</code>, <code>debug</code>, <code>info</code>, <code>warn</code>, and <code>error</code>. Additionally, <code>all</code> can be used to log absolutely everything, and <code>off</code> to log nothing.</p>

<h3>Message Format</h3>

<p>Every incoming request is handled on a separate thread, and is logged at <code>INFO</code> level:</p>

<pre>Time         Thread ID         Level Class Name                   Message
13:54:12.084 [qtp795326519-32] INFO  e.i.l.c.r.AbstractResource - doInit(): handling GET ...</pre>

<p>As the request is processed, additional log messages are generated by various components, and most of them will have the same thread ID, which is the best way to associate them with the initial request, especially when messages are arriving from multiple simultaneous requests.</p>

<p>The completion of every request is logged at <code>DEBUG</code> level:</p>

<pre>13:54:12.405 [qtp795326519-32] DEBUG e.i.l.c.r.HandlerServlet - 110 msec total ...</pre>

<p>The thread is then returned to its pool, from which it can be reused by a future request. Its ID never changes.</p>

<h3>Appenders</h3>

<p>Appenders direct log messages to various destinations, like files and/or the console. (The default configuration file logs only to the console.) There are several available appenders, which can be enabled or disabled in any combination.</p>

<h4>ConsoleAppender</h4>

<p>ConsoleAppender logs to the console. Set the <code>log.application.ConsoleAppender.enabled</code> configuration key to <code>true</code> or <code>false</code> to enable or disable.</p>

<h4>FileAppender</h4>

<p>FileAppender logs to a single file. Use the <code>log.application.FileAppender.enabled</code> key to enable or disable, and the <code>log.application.FileAppender.pathname</code> key to set the absolute pathname of the log file.</p>

<h4>RollingFileAppender</h4>

<p>RollingFileAppender logs to a file that rolls over periodically (to avoid creating a single huge file). Use the <code>log.application.RollingFileAppender.enabled</code> key to enable or disable, and the <code>log.application.RollingFileAppender.pathname</code> key to set the absolute pathname of the primary log file.</p>

<p>Currently, the only available rolling policy (<code>log.application.RollingFileAppender.policy</code>) is <code>TimeBasedRollingPolicy</code>, which rolls over the log file based on the value of <code>log.application.RollingFileAppender.TimeBasedRollingPolicy.filename_pattern</code>. <code>log.application.RollingFileAppender.TimeBasedRollingPolicy.max_history</code> defines how many rolled-over log files will be kept.</p>

<p class="text-warning"><i class="fa fa-warning"></i> FileAppender and RollingFileAppender should not be set to log to the same file.</p>

<h4>SyslogAppender</h4>

<p>SyslogAppender appends log messages to the syslog, managed by syslogd.</p>

<hr>

<h2 id="Error Log">Error Log</h2>

<p>The error log is a dedicated log for <code>WARN</code>- and <code>ERROR</code>-level application log messages. This log offers a FileAppender and RollingFileAppender that work the same as their <a href="#Application%20Log">application log</a> counterparts.</p>

<p>Whether or not any error log appenders are enabled, error messages will still appear in the application log.</p>

<hr>

<h2 id="Access Log">Access Log</h2>

<p>Access logs are written in the <a href="http://www.w3.org/TR/WD-logfile.html">W3C Extended Log File Format</a>. To enable the access log, set the value of <code>log.access.ConsoleAppender.enabled</code> to <code>true</code>. If you are running behind a reverse proxy server or in a Servlet container that manages its own access logs, this one may be redundant.</p>

<p>Access log appenders work the same as <a href="#Application%20Log">application log</a> appenders.</p>
