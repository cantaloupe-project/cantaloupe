---
layout: manual_3.1
title: What's New
---

<ol class="breadcrumb">
  <li><a href="{{ site.baseurl }}/">Home</a></li>
  <li><a href="{{ site.baseurl }}/manual/">User Manual</a></li>
  <li><a href="{{ site.baseurl }}/manual/3.1/">3.1</a></li>
  <li class="active">What's New</li>
</ol>

<h2>What's New in <span class="version">3.1</span></h2>

<h2>3.1.2</h2>

<ul>
  <li>Fixed a resource leak that would cause landing pages, error pages, and the Control Panel to become inaccessible after a long time running.</li>
  <li>Fixed a bug where the watermark wouldn't be added if redactions were enabled and set to use <code>DelegateScriptStrategy</code> but the delegate script was disabled.</li>
  <li>Fixed tile sizes in the IIIF Image API 2.x information response when using KakaduProcessor.</li>
  <li>HTTP 400 is returned in response to a request for an image that would be zero pixels on a side, even when the zero dimension is not explicit in the request. (For example, a size of <code>4,</code> for an image that is at least five times wider than it is tall.) (Previously, it was only returned when zero pixels was explicitly requested, and the image returned for implicit zero sizes was incorrect.)</li>
</ul>

<h2>3.1.1</h2>

<ul>
  <li>Added the <code>http.host</code> and <code>https.host</code> standalone mode configuration options, defaulting to listen on <code>0.0.0.0</code> (all interfaces).</li>
</ul>

<h2>3.1</h2>

<ul>
  <li>Added support for version 2.1 of the IIIF Image API.
    <ul>
      <li>Added support for the <code>square</code> region parameter to all processors.</li>
      <li>Added the <code>max</code> size parameter.</li>
      <li>Removed the information request <code>Link</code> header for the JSON-LD context.</li>
      <li>Added the <code>sizeByConfinedWh</code> and <code>sizeByDistortedWh</code> feature names, supported by all processors.</li>
      <li>Added the <code>maxArea</code> property to the profile description, based on the value of the <code>max_pixels</code> configuration key.</li>
    </ul>
  </li>
  <li>Replaced the <code>get_iiif2_service</code> delegate method with <code>extra_iiif2_information_response_keys</code>.</li>
</ul>

<h2>3.0.1</h2>

<ul>
  <li>Fixed a broken build in standalone mode.</li>
</ul>

<h2>3.0</h2>

<ul>
  <li>Added a Control Panel for web-based configuration changes.</li>
  <li>Changed the distribution archive to a custom <span class="filename">.war</span> file that can be run standalone (as before) or in a Servlet container.</li>
  <li>Added AmazonS3Cache.</li>
  <li>Added AzureStorageCache.</li>
  <li>Added redaction.</li>
  <li>Added the ability to restrict available sizes to those specified in the <span class="filename">info.json</span> response in the IIIF Image API 2.0 endpoint.</li>
  <li>Added an optional source image cache, which can improve the performance of StreamProcessors, as well as enable FileProcessors to work with StreamResolvers.</li>
  <li>Moved JdbcResolver delegate methods to the delegate script.</li>
  <li>Moved resolver-related delegate methods to submodules to improve organization.</li>
  <li>Changes to the logging configuration are applied immediately without restarting.</li>
  <li>Requests for more than <code>max_pixels</code> receive an HTTP 403 response rather than 500.</li>
  <li>Upgraded the Amazon S3 client to version 1.10.56.</li>
  <li>Upgraded the Restlet framework to version 2.3.7.</li>
</ul>
