---
layout: default
---

<script type="text/javascript">
    $(document).ready(function() { getLatestReleaseInfo(); });
</script>

<h2>Getting Started</h2>

<h3 id="Requirements">Requirements</h3>

<p>The only hard requirement is Java 7+. Particular <a href="resolvers.html">resolvers</a> and <a href="processors.html">processors</a> may have additional requirements.</p>

<h3 id="Download">Download</h3>

<p>
  <a id="download-button" href="https://github.com/medusa-project/cantaloupe/releases" class="btn btn-success"><span class="fa fa-download"></span> Download</a>
</p>

<h3 id="Configuration">Configuration</h3>

<p>The distribution archive bundles a sample configuration file, named <span class="filename">cantaloupe.properties.sample</span>. <strong>Do not edit this file</strong>&mdash;instead, create a copy and edit that. (These instructions assume a name of <span class="filename">cantaloupe.properties</span>, but any name will work.)</p>

<p>To get started quickly, just set <code>FilesystemResolver.BasicLookupStrategy.path_prefix</code> to a folder containing some images, and leave all the other options alone.</p>

<h3 id="Running">Running</h3>

<p>From the command prompt:</p>

<pre>$ java -Dcantaloupe.config=/path/to/cantaloupe.properties -Xmx2g -jar Cantaloupe-x.x.x.jar</pre>

<p>(<code>-Xmx2g</code> tells the JVM to use up to 2GB of heap space [RAM, basically]. Without this argument, it may default to a much smaller amount, leading to OutOfMemoryErrors.)</p>

<p>Cantaloupe is now running at: <a href="http://localhost:8182/">http://localhost:8182/</a>. To test, assuming you have an image named <span class="filename">image.tif</span>, try accessing following URLs:</p>

<ul>
  <li><a href="http://localhost:8182/iiif/2/image.tif/info.json">http://localhost:8182/iiif/2/image.tif/info.json</a></li>
  <li><a href="http://localhost:8182/iiif/2/image.tif/full/pct:20/0/default.jpg">http://localhost:8182/iiif/2/image.tif/full/pct:20/0/default.jpg</a></li>
</ul>

<h3 id="Upgrading">Upgrading</h3>

<p>Upgrading is theoretically just a matter of downloading a new version and running it. Since instances are self-contained, new versions can run happily alongside existing ones, with each using its own configuration file. Sometimes there are changes to the file, though, so check below to see if there is anything more to be done.</p>

<h4>2.0 to 2.1</h4>

<ul>
  <li>Add the <code>JaiProcessor.*</code> keys from the sample configuration.</li>
  <li>Add the <code>Java2dProcessor.tif.compression</code> key from the sample configuration.</li>
  <li>Add the <code>log.*.SyslogAppender.*</code> keys from the sample configuration.</li>
  <li>Add the <code>authorized?</code> method from the sample delegate script.</li>
</ul>

<h4>1.2 to 2.0</h4>

<p>There are so many new and renamed configuration keys in this version that it is recommended to start over with a new configuration file. The inline comments, which serve as the primary source of configuration documentation, have also been updated.</p>

<div class="alert alert-info">
  <p>Note that the Image API 2.0 endpoint, which used to be located at <span class="filename">/iiif</span>, has moved to <span class="filename">/iiif/2</a>.</p>
  <p>Likewise, the landing page, which used to be located at <span class="filename">/iiif</span>, has moved to <span class="filename">/</span>.</p>
</div>

<div class="alert alert-info">
  <p>Because the cache naming format has changed, it will be necessary to <a href="caches.html#Purging">purge your cache</a> before using this version.</p>
</div>

<h4>1.2 to 1.2.1</h4>

<p>Nothing to do.</p>

<h4>1.1 to 1.2</h4>

<ul>
  <li>Add the <code>http.content_disposition</code> key from the sample configuration.</li>
  <li>Add the <code>AmazonS3Resolver.*</code> keys from the sample configuration.</li>
  <li>Add the <code>FfmpegProcessor.path_to_binaries</code> key from the sample configuration.</li>
  <li>Add the <code>cache.server.resolve_first</code> key from the sample configuration.</li>
  <li>Remove the <code>generate_https_links</code> key from your configuration file, and add the <code>base_uri</code> key from the sample configuration.</li>
</ul>

<h4>1.0.x to 1.1</h4>

<ul>
  <li>Add the <code>cache.client.enabled</code> key from the sample configuration.</li>
</ul>

<h4>1.0-beta3 to 1.0</h4>

<ul>
  <li>Add the <code>logging.*</code> keys from the sample configuration.</li>
  <li>Add the <code>generate_https_links</code> key from the sample configuration.</li>
  <li>Add the <code>FfmpegProcessor.path_to_binaries</code> key from the sample configuration.
  <li>Rename <code>HttpResolver.username</code> to <code>HttpResolver.auth.basic.username</code> in the configuration.</li>
  <li>Rename <code>HttpResolver.password</code> to <code>HttpResolver.auth.basic.secret</code> in the
  configuration.</li>
</ul>

<h4>1.0-beta2 to 1.0-beta3</h4>

<ul>
  <li>Rename the <code>cache</code> key in the configuration to <code>cache.server</code>.</li>
  <li>Add the <code>cache.client.*</code> keys from the sample configuration.</li>
  <li>Add the <code>http.auth.basic*</code> keys from the sample configuration.</li>
  <li>Add the <code>KakaduProcessor</code> keys from the sample configuration.</li>
  <li>Change any <code>ImageIoProcessor</code> references to <code>Java2dProcessor</code> in the configuration.</li>
  <li>Add the <code>Java2dProcessor.tif.reader</code> key from the sample configuration.</li>
</ul>

<h4>1.0-beta1 to 1.0-beta2</h4>

<ul>
  <li>Add the <code>cache</code> and <code>FilesystemCache.*</code> keys from the sample configuration.</li>
  <li>Add the <code>FilesystemResolver.path_separator</code> and <code>HttpResolver.path_separator</code> keys from the sample configuration.</li>
</ul>

<h3 id="GettingHelp">Getting Help</h3>

<p>If you find yourself stuck on anything, please <a href="https://github.com/medusa-project/cantaloupe/issues/new">file a GitHub issue</a>. Include a description of the problem as well as any other relevant information, such as:</p>

<ul>
  <li>Your Cantaloupe version</li>
  <li>Your JVM's heap size (this is printed on the landing page as well as in the first few lines of application log output [which, by default, goes to the console])</li>
  <li>The request URL</li>
  <li>Information about the source image (format, size, etc.)</li>
  <li>The effective processor, resolver, and cache</li>
  <li>Log output in debug mode</li>
  <li>Configuration options with sensitive information removed</li>
</ul>
